<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
        <script src="http://jashkenas.github.com/coffee-script/extras/coffee-script.js" type="text/javascript"></script>
        <script src="/socket.io/socket.io.js" type="text/javascript"></script>
    </head>
    <body>
        <input type="input" id="input" value="" name="" />
        <ul id="console"></ul>
        <script type="text/coffeescript">
$(document).ready ->
    socket = io.connect 'http://localhost:4000'
    $console = $('#console')

    socket.on 'message', (data) ->
        $console.append "<li>#{data}</li>"

    $('#input').keypress (event) ->
        return unless event.keyCode == 13
        msg = $(@).val()
        if msg
            socket.send msg
            $(@).val('')

        </script>
    </body>
</html>
